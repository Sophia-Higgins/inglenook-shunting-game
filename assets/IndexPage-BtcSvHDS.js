import{a as h,c as L,g as A,h as m,e as J,f as I,j as ee,k as te,z as y,t as b,A as _,F as q,B,C as G,D as S,r as w,E as Y,G as H,H as ne,x as T,s as $,u as C,y as R,I as V,J as ae,o as re}from"./index-CrSeVItQ.js";import{h as K,b as le,a as se}from"./dom-D3-g-k2d.js";import{u as ue,a as oe,Q as ce,b as ie,c as de,d as O}from"./QBtn-CRqErA68.js";import{_ as ke}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={dark:{type:Boolean,default:null}};function M(e,t){return h(()=>e.dark===null?t.dark.isActive:e.dark)}const ve=L({name:"QCard",props:{...P,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=A(),r=M(e,n),u=h(()=>"q-card"+(r.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>m(e.tag,{class:u.value},K(t.default))}}),ge=L({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:n}}=A(),r=J(ee,I);if(r===I)return console.error("QPage needs to be a deep child of QLayout"),I;if(J(te,I)===I)return console.error("QPage needs to be child of QPageContainer"),I;const a=h(()=>{const s=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const f=r.isContainer.value===!0?r.containerHeight.value:n.screen.height;return e.styleFn(s,f)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-s+"px":n.screen.height===0?s!==0?`calc(100vh - ${s}px)`:"100vh":n.screen.height-s+"px"}}),o=h(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>m("main",{class:o.value,style:a.value},K(t.default))}}),fe=["A","B","C","D","E","F","G","H"],x={truck:null,isTruck:!1,isEngine:!1,isCoupled:!1,trackRoute:[]},he=()=>{const e=[];e.push({...x,truck:"A",isTruck:!0,trackRoute:["track0"]}),e.push({...x,truck:"B",isTruck:!0,trackRoute:["track0"]}),e.push({...x,truck:"C",isTruck:!0,trackRoute:["track0"]}),e.push({...x,truck:"D",isTruck:!0,trackRoute:["track0"]}),e.push({...x,truck:"E",isTruck:!0,trackRoute:["track0"]});for(let t=0;t<3;t++)e.push({...x,trackRoute:["track0"]});for(let t=0;t<6;t++)e.push({...x,trackRoute:["track0","track1","track2"]});return e.push({truck:"ENG",isEngine:!0,isCoupled:!0,trackRoute:["track0","track1","track2"]}),e},be=()=>{const e=[];e.push({...x,truck:"F",isTruck:!0,trackRoute:["track1"]}),e.push({...x,truck:"G",isTruck:!0,trackRoute:["track1"]}),e.push({...x,truck:"H",isTruck:!0,trackRoute:["track1"]});for(let t=0;t<4;t++)e.push({...x,trackRoute:["track1"]});return e.push({...x,trackRoute:["track1","track2"]}),e},me=()=>{const e=[];for(let t=0;t<7;t++)e.push({...x,trackRoute:["track2"]});return e},W=()=>[he(),be(),me()],xe=8,X=e=>{const t=[];return e.forEach((n,r)=>{n.forEach((u,a)=>{u.isCoupled&&t.push({track:r,index:a})})}),t},Z=e=>e[1].length-1,pe=e=>e[2].length-1,Te=(e,t,n)=>{const r=[],u=Z(e);return t.forEach(a=>{n==="track2"&&a.track===1&&a.index===u?r.push({originalTrack:a.track,originalIndex:a.index,newTrack:2,newIndex:6}):n!=="track0"&&a.track===0&&a.index===xe?r.push({originalTrack:a.track,originalIndex:a.index,newTrack:1,newIndex:7}):r.push({originalTrack:a.track,originalIndex:a.index,newTrack:a.track,newIndex:a.index-1})}),r},ye=(e,t)=>{const n=[],r=Z(e),u=pe(e);return t.forEach(a=>{a.track===2&&a.index===u?n.push({originalTrack:a.track,originalIndex:a.index,newTrack:1,newIndex:7}):a.track===1&&a.index===r?n.push({originalTrack:a.track,originalIndex:a.index,newTrack:0,newIndex:8}):n.push({originalTrack:a.track,originalIndex:a.index,newTrack:a.track,newIndex:a.index+1})}),n},Ce=e=>{let t,n;return e.forEach((r,u)=>{r.find((a,o)=>{a.isEngine&&(t=u,n=o)})}),{track:t,index:n}},qe=(e,t,n)=>{const r=[];for(let u=t.index;u<n.index;u++)e[t.track][u].isCoupled||r.push({track:t.track,index:u});return r},we=e=>{const t=e.track===0&&e.index<5,n=e.track!==0&&e.index<3;return!!(t||n)},Ie=(e,t)=>{const n=[];for(let r=0;r<=t.index;r++)e[t.track][r].isCoupled&&we(t)&&n.push({track:t.track,index:r});return n},Re={class:"q-ma-lg row"},Ee={class:"q-ma-lg row"},_e={__name:"ResultComponent",setup(e){const t=fe.sort(()=>Math.random()-.5),n=t.slice(0,5),r=t.slice(5,8);return(u,a)=>(b(),y(q,null,[_("div",Re,[(b(!0),y(q,null,B(G(n),(o,s)=>(b(),y("p",{key:s,class:"flex bg-deep-purple-4 q-mx-sm justify-center items-center",style:{height:"50px",width:"50px"}},S(o),1))),128))]),_("div",Ee,[(b(!0),y(q,null,B(G(r),(o,s)=>(b(),y("p",{key:s,class:"flex bg-deep-purple-4 q-mx-sm justify-center items-center",style:{height:"50px",width:"50px"}},S(o),1))),128))])],64))}};function Be(e,t){const n=w(null),r=h(()=>e.disable===!0?null:m("span",{ref:n,class:"no-outline",tabindex:-1}));function u(a){const o=t.value;a!==void 0&&a.type.indexOf("key")===0?o!==null&&document.activeElement!==o&&o.contains(document.activeElement)===!0&&o.focus():n.value!==null&&(a===void 0||o!==null&&o.contains(a.target)===!0)&&n.value.focus()}return{refocusTargetEl:r,refocusTarget:u}}const Se={name:String};function $e(e={}){return(t,n,r)=>{t[n](m("input",{class:"hidden"+(r||""),...e.value}))}}const Le={xs:30,sm:35,md:40,lg:50,xl:60},Ae=()=>m("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[m("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),m("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),U=L({name:"QRadio",props:{...P,...ue,...Se,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:r}=A(),u=M(e,r.$q),a=oe(e,Le),o=w(null),{refocusTargetEl:s,refocusTarget:f}=Be(e,o),l=h(()=>Y(e.modelValue)===Y(e.val)),c=h(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(e.disable===!0?" disabled":"")+(u.value===!0?" q-radio--dark":"")+(e.dense===!0?" q-radio--dense":"")+(e.leftLabel===!0?" reverse":"")),i=h(()=>{const d=e.color!==void 0&&(e.keepColor===!0||l.value===!0)?` text-${e.color}`:"";return`q-radio__inner relative-position q-radio__inner--${l.value===!0?"truthy":"falsy"}${d}`}),v=h(()=>(l.value===!0?e.checkedIcon:e.uncheckedIcon)||null),k=h(()=>e.disable===!0?-1:e.tabindex||0),p=h(()=>{const d={type:"radio"};return e.name!==void 0&&Object.assign(d,{".checked":l.value===!0,"^checked":l.value===!0?"checked":void 0,name:e.name,value:e.val}),d}),Q=$e(p);function E(d){d!==void 0&&(H(d),f(d)),e.disable!==!0&&l.value!==!0&&n("update:modelValue",e.val,d)}function F(d){(d.keyCode===13||d.keyCode===32)&&H(d)}function j(d){(d.keyCode===13||d.keyCode===32)&&E(d)}Object.assign(r,{set:E});const g=Ae();return()=>{const d=v.value!==null?[m("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[m(ce,{class:"q-radio__icon",name:v.value})])]:[g];e.disable!==!0&&Q(d,"unshift"," q-radio__native q-ma-none q-pa-none");const z=[m("div",{class:i.value,style:a.value,"aria-hidden":"true"},d)];s.value!==null&&z.push(s.value);const N=e.label!==void 0?le(t.default,[e.label]):K(t.default);return N!==void 0&&z.push(m("div",{class:"q-radio__label q-anchor--skip"},N)),m("div",{ref:o,class:c.value,tabindex:k.value,role:"radio","aria-label":e.label,"aria-checked":l.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:E,onKeydown:F,onKeyup:j},z)}}}),D=L({name:"QItem",props:{...P,...ie,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:r}}=A(),u=M(e,r),{hasLink:a,linkAttrs:o,linkClass:s,linkTag:f,navigateOnClick:l}=de(),c=w(null),i=w(null),v=h(()=>e.clickable===!0||a.value===!0||e.tag==="label"),k=h(()=>e.disable!==!0&&v.value===!0),p=h(()=>"q-item q-item-type row no-wrap"+(e.dense===!0?" q-item--dense":"")+(u.value===!0?" q-item--dark":"")+(a.value===!0&&e.active===null?s.value:e.active===!0?` q-item--active${e.activeClass!==void 0?` ${e.activeClass}`:""}`:"")+(e.disable===!0?" disabled":"")+(k.value===!0?" q-item--clickable q-link cursor-pointer "+(e.manualFocus===!0?"q-manual-focusable":"q-focusable q-hoverable")+(e.focused===!0?" q-manual-focusable--focused":""):"")),Q=h(()=>e.insetLevel===void 0?null:{["padding"+(r.lang.rtl===!0?"Right":"Left")]:16+e.insetLevel*56+"px"});function E(g){k.value===!0&&(i.value!==null&&(g.qKeyEvent!==!0&&document.activeElement===c.value?i.value.focus():document.activeElement===i.value&&c.value.focus()),l(g))}function F(g){if(k.value===!0&&ne(g,[13,32])===!0){H(g),g.qKeyEvent=!0;const d=new MouseEvent("click",g);d.qKeyEvent=!0,c.value.dispatchEvent(d)}n("keyup",g)}function j(){const g=se(t.default,[]);return k.value===!0&&g.unshift(m("div",{class:"q-focus-helper",tabindex:-1,ref:i})),g}return()=>{const g={ref:c,class:p.value,style:Q.value,role:"listitem",onClick:E,onKeyup:F};return k.value===!0?(g.tabindex=e.tabindex||"0",Object.assign(g,o.value)):v.value===!0&&(g["aria-disabled"]="true"),m(f.value,g,j())}}}),Qe={class:"q-ma-lg row q-gutter-xs"},Fe={class:"q-ma-lg q-ml-xl row q-gutter-xs"},je={class:"q-ma-lg q-ml-xl row q-gutter-xs"},ze={__name:"TracksComponent",props:{tracks:{type:Array},selectedTrack:{type:String},disableButtons:{type:Boolean}},emits:["coupling","updateSelectedTrack"],setup(e,{emit:t}){const n=e,r=t;function u(s,f){return n.selectedTrack==="track0"&&!s.isEngine&&!s.isTruck?!0:n.selectedTrack!=="track0"&&!s.isEngine&&!s.isTruck&&f>7}function a(s,f){return n.selectedTrack==="track1"&&!s.isEngine&&!s.isTruck?!0:n.selectedTrack==="track2"&&!s.isEngine&&!s.isTruck&&f>6}function o(s){return n.selectedTrack==="track2"&&!s.isEngine&&!s.isTruck}return(s,f)=>(b(),y(q,null,[_("div",Qe,[T(U,{"model-value":e.selectedTrack,"onUpdate:modelValue":f[0]||(f[0]=()=>r("updateSelectedTrack","track0")),val:"track0",size:"xs",disable:n.disableButtons},null,8,["model-value","disable"]),(b(!0),y(q,null,B(e.tracks[0],(l,c)=>(b(),$(D,{key:c,class:V(["justify-center items-center",{"bg-grey":l.isEngine,"bg-deep-purple-4":l.isTruck,"bg-yellow":l.isCoupled,"bg-green-4":u(l,c),"bg-green-2":!l.isEngine&&!l.isCoupled&&!l.isTruck&&!u(l,c)}]),style:{width:"40px",height:"40px"},clickable:!n.disableButtons,onClick:i=>r("coupling",{track:0,index:c}),tag:"track0"},{default:C(()=>[R(S(l.truck),1)]),_:2},1032,["class","clickable","onClick"]))),128))]),_("div",Fe,[T(U,{"model-value":e.selectedTrack,"onUpdate:modelValue":f[1]||(f[1]=()=>r("updateSelectedTrack","track1")),val:"track1",size:"xs",disable:n.disableButtons},null,8,["model-value","disable"]),(b(!0),y(q,null,B(e.tracks[1],(l,c)=>(b(),$(D,{key:c,class:V(["justify-center items-center",{"bg-grey":l.isEngine,"bg-deep-purple-4":l.isTruck,"bg-yellow":l.isCoupled,"bg-green-4":a(l,c),"bg-green-2":!l.isEngine&&!l.isCoupled&&!l.isTruck&&!a(l,c)}]),style:{width:"40px",height:"40px"},clickable:!n.disableButtons,onClick:i=>r("coupling",{track:1,index:c}),tag:"track1"},{default:C(()=>[R(S(l.truck),1)]),_:2},1032,["class","clickable","onClick"]))),128))]),_("div",je,[T(U,{"model-value":e.selectedTrack,"onUpdate:modelValue":f[2]||(f[2]=()=>r("updateSelectedTrack","track2")),val:"track2",size:"xs",class:"q-ml-md",disable:n.disableButtons},null,8,["model-value","disable"]),(b(!0),y(q,null,B(e.tracks[2],(l,c)=>(b(),$(D,{key:c,class:V(["justify-center items-center",{"bg-grey":l.isEngine,"bg-deep-purple-4":l.isTruck,"bg-yellow":l.isCoupled,"bg-green-4":o(l),"bg-green-2":!l.isEngine&&!l.isCoupled&&!l.isTruck&&!o(l)}]),style:{width:"40px",height:"40px"},clickable:!n.disableButtons,onClick:i=>r("coupling",{track:2,index:c}),tag:"track2"},{default:C(()=>[R(S(l.truck),1)]),_:2},1032,["class","clickable","onClick"]))),128))])],64))}},Ve={class:"q-ma-lg row q-gutter-md"},Oe={__name:"ButtonsComponent",props:{disableButtons:{type:Boolean}},emits:["reset","moveCoupledItemsLeft","moveCoupledItemsRight"],setup(e,{emit:t}){const n=e,r=t;return(u,a)=>(b(),y("div",Ve,[T(O,{color:"purple",onClick:a[0]||(a[0]=o=>r("moveCoupledItemsLeft")),disable:n.disableButtons},{default:C(()=>a[3]||(a[3]=[R(" Left ")])),_:1},8,["disable"]),T(O,{color:"purple",onClick:a[1]||(a[1]=o=>r("moveCoupledItemsRight")),disable:n.disableButtons},{default:C(()=>a[4]||(a[4]=[R(" Right ")])),_:1},8,["disable"]),T(O,{color:"purple",onClick:a[2]||(a[2]=o=>r("reset")),disable:n.disableButtons},{default:C(()=>a[5]||(a[5]=[R(" Reset ")])),_:1},8,["disable"])]))}},Ue={};function De(e,t){return t[0]||(t[0]=ae('<div class="q-ma-lg row">Can you match the above truck order below?</div><div class="q-ml-lg row">Rules:</div><div class="q-ml-xl">- Click the radio button next to the track you want to choose</div><div class="q-ml-xl"> - Click the Left button to move the Engine and any coupled cars to the Left </div><div class="q-ml-xl"> - Click the Right button to move the Engine and any coupled cars to the Right </div><div class="q-ml-xl">- Click on the lettered cars to couple them to the Engine</div><div class="q-ml-xl">- You can only couple up to 3 cars to the Engine</div><div class="q-ml-xl">- You can only have 5 uncoupled cars on the top row</div><div class="q-ml-xl">- You can only have 3 uncoupled cars on all other rows</div>',9))}const He=ke(Ue,[["render",De]]),Je={__name:"IndexPage",setup(e){const t=w([]),n=w(!1),r=w("track0");re(()=>{t.value=W()});const u=()=>{t.value=W()},a=l=>{r.value=l},o=()=>{n.value=!0;const c=X(t.value).sort((k,p)=>p.track-k.track),i=Te(t.value,c,r.value);if(i[0].newIndex<0){n.value=!1;return}if(!!!t.value[i[0].newTrack][i[0].newIndex].truck)i.forEach(k=>{[t.value[k.originalTrack][k.originalIndex],t.value[k.newTrack][k.newIndex]]=[t.value[k.newTrack][k.newIndex],t.value[k.originalTrack][k.originalIndex]]}),setTimeout(()=>{o()},300);else{n.value=!1;return}},s=()=>{n.value=!0;const c=X(t.value).sort((v,k)=>k.index-v.index),i=ye(t.value,c);if(i[0].newIndex>=t.value[i[0].newTrack].length){n.value=!1;return}if(i[i.length-1].newIndex<t.value[0].length)i.forEach(v=>{[t.value[v.originalTrack][v.originalIndex],t.value[v.newTrack][v.newIndex]]=[t.value[v.newTrack][v.newIndex],t.value[v.originalTrack][v.originalIndex]]}),setTimeout(()=>{s()},300);else{n.value=!1;return}},f=l=>{const c=Ce(t.value),i=qe(t.value,l,c),v=Ie(t.value,l);if(l.index>c.index-4&&l.index<c.index){const k=i.length?i:v;for(const p of k)[t.value[p.track][p.index]]=[{...t.value[p.track][p.index],isCoupled:!t.value[p.track][p.index].isCoupled}]}};return(l,c)=>(b(),$(ge,{class:"row"},{default:C(()=>[T(ve,{style:{width:"80vw"},class:"q-mx-auto"},{default:C(()=>[T(_e),T(He),T(ze,{tracks:t.value,"disable-buttons":n.value,"selected-track":r.value,onCoupling:f,onUpdateSelectedTrack:a},null,8,["tracks","disable-buttons","selected-track"]),T(Oe,{"disable-buttons":n.value,onReset:u,onMoveCoupledItemsLeft:o,onMoveCoupledItemsRight:s},null,8,["disable-buttons"])]),_:1})]),_:1}))}};export{Je as default};
